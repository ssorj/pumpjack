<class name="session" type="session-state">
  A container of links.

  <link node="session-options"/>
  <link node="connection"/>
  <link node="sender"/>
  <link node="receiver"/>
  
  <link relation="amqp" href="https://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-transport-v1.0-os.html#section-sessions">Conceptual overview</link>
  <link relation="amqp" href="http://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-transport-v1.0-os.html#type-begin">Begin performative</link>
  <link relation="amqp" href="http://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-transport-v1.0-os.html#type-end">End performative</link>
  
  <group name="basic">
    <property name="connection" type="connection" value="[instance]">
      The containing connection.
    </property>

    <property name="links" type="iterator" item-type="link">
      The links contained in this session.
    </property>

    <property name="deliveries" type="iterator" item-type="delivery">
      The deliveries contained in this session.
    </property>
    
    <property name="remote" type="session-state">
      Session state at the remote peer.
    </property>
    
    <method name="open">
      Open the session.

      The operation is complete when on-session-open fires.

      <link node="/proton/core/handler/on-session-open"/>

      <input name="options" type="session-options" optional="true"/>
    </method>

    <method name="close">
      Close the session.

      The operation is complete when on-session-close fires.
      
      <link node="/proton/core/handler/on-session-close"/>

      <input name="condition" type="condition" optional="true"/>
    </method>
  </group>

  <group name="message-operations">
    <method name="send" proposed="true">
      Send a message on a link with the given address.

      <input name="message" type="message"/>
      <output name="delivery" type="delivery"/>
    </method>

    <method name="send-request" proposed="true">
      Send a request message.  The message.reply-to property is
      set automatically.

      <input name="message" type="message"/>
      <output name="delivery" type="delivery"/>
    </method>
    
    <method name="send-response" proposed="true">
      Send a response message.  The message.to property is set
      automatically.

      <input name="response-message" type="message"/>
      <input name="request-message" type="message"/>
      <output name="delivery" type="delivery"/>
    </method>
  </group>
  
  <group name="link-operations">
    <method name="open-sender">
      Create and open a sending link.

      The operation is complete when on-sender-open fires.

      <link node="/proton/core/handler/on-sender-open"/>

      <input name="address" type="string"/>
      <input name="options" type="link-options" optional="true"/>
      <output name="sender" type="sender"/>
    </method>
    
    <method name="open-receiver">
      Create and open a receiving link.

      The operation is complete when on-receiver-open fires.

      <link node="/proton/core/handler/on-receiver-open"/>
      
      <input name="address" type="string"/>
      <input name="options" type="link-options" optional="true"/>
      <output name="receiver" type="receiver"/>
    </method>
  </group>

  <group name="flow-control">
    <property name="incoming-bytes" type="uint" value="[discovered]">
      The number of incoming bytes currently buffered.
    </property>
    
    <property name="outgoing-bytes" type="uint" value="[discovered]">
      The number of outgoing bytes currently buffered.
    </property>
  </group>
</class>

<class name="session-state" type="endpoint-state" hidden="true">
  <group name="resource-limits">
    <property name="incoming-window" type="uint" value="[discovered]">
      The maximum incoming transfer frames.
    </property>
    
    <property name="outgoing-window" type="uint" value="[discovered]">
      The maximum outgoing transfer frames.
    </property>
  </group>
</class>
