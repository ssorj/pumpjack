<class name="link-options" type="endpoint-options">
  Options for new links.
  
  <link node="link"/>
  <link node="/proton/core/container/open-receiver"/>
  <link node="/proton/core/container/open-sender"/>
  <link node="terminus-options"/>

  <link relation="amqp" href="https://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-transport-v1.0-os.html#section-links">Conceptual overview</link>
  <link relation="amqp" href="http://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-transport-v1.0-os.html#type-attach">Attach performative</link>
  
  <group name="basic">
    <property name="source" type="terminus-options">
      Options for the link source.
    </property>
    
    <property name="target" type="terminus-options">
      Options for the link target.
    </property>
    
    <property name="delivery-mode" type="delivery-mode" value="AT-LEAST-ONCE" mutable="true" proposed="true">
      Control the message delivery guarantee.
    </property>

    <property name="name" type="string" value="[generated]" mutable="true">
      The name of the link.
    </property>

    <method name="constructor" special="true">
      Create a new link-options instance.
      
      <output type="link-options"/>
    </method>
  </group>

  <group name="flow-control">
    <property name="message-window" type="uint" value="10" mutable="true" proposed="true" nullable="true">
      Maintain credit for the given number of messages.

      <link node="/proton/core/link/credit"/>
      <link node="/proton/core/receiver/add-credit"/>
    </property>
  </group>

  <group name="resource-limits">
    <property name="max-message-size" type="ulong" mutable="true" nullable="true">
      Limit the size of messages on the link.
    </property>
  </group>
</class>

<enumeration name="delivery-mode">
  <value name="AT-MOST-ONCE">
    Unreliable delivery.  The sender settles the message as
    soon as it sends it.  If the connection is lost before the
    message is received, the message will not be delivered.

    <link href="{{{{site_url}}}}/delivery-guarantees.html">Delivery guarantees</link>
  </value>

  <value name="AT-LEAST-ONCE">
    Reliable delivery.  The receiver accepts and settles the
    message on receipt.  If the connection is lost before the
    sender is informed of the settlement, then the delivery is
    considered in-doubt and will be retried.  This will ensure
    it eventually gets delivered, provided the connection and
    link can be reestablished.  It may, however, be delivered
    multiple times.

    <link href="{{{{site_url}}}}/delivery-guarantees.html">Delivery guarantees</link>
  </value>

  <value name="EXACTLY-ONCE">
    Reliable delivery with no duplicates.  The receiver
    accepts the message but doesn't settle it.  The sender
    settles once it is aware that the receiver accepted it.
    In this way the receiver retains knowledge of an accepted
    message until it is sure the sender knows it has been
    accepted.  If the connection is lost before settlement,
    the receiver informs the sender of all the unsettled
    deliveries it knows about, and from this the sender can
    deduce which need to be redelivered. The sender likewise
    informs the receiver which deliveries it knows about, from
    which the receiver can deduce which have already been
    settled.

    <link href="{{{{site_url}}}}/delivery-guarantees.html">Delivery guarantees</link>
  </value>
</enumeration>

<enumeration name="distribution-mode">
  <link href="http://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-messaging-v1.0-os.html#type-std-dist-mode">AMQP definition</link>
  
  <value name="COPY"/>
  <value name="MOVE"/>
</enumeration>

<enumeration name="durability">
  <link href="http://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-messaging-v1.0-os.html#type-terminus-durability">AMQP definition</link>
  
  <value name="NONE"/>
  <value name="CONFIGURATION"/>
  <value name="UNSETTLED-STATE"/>
</enumeration>



<enumeration name="expiry-policy">
  <link href="http://docs.oasis-open.org/amqp/core/v1.0/os/amqp-core-messaging-v1.0-os.html#type-terminus-expiry-policy">AMQP definition</link>

  <value name="LINK-CLOSE"/>
  <value name="SESSION-CLOSE"/>
  <value name="CONNECTION-CLOSE"/>
  <value name="NEVER"/>
</enumeration>
